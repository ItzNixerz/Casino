<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Plinko Game</title>
    <style>
        /* Reset default margin and padding */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Body styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #1e1e1e; /* Same as Blackjack background */
            color: #fff;
            text-align: center;
        }

        /* Header styles */
        header {
            background-color: #333;
            padding: 20px;
        }

        header h1 {
            color: cyan;
            font-size: 3rem;
            letter-spacing: 2px;
        }

        /* Game Board */
        #game-board {
            position: relative;
            width: 400px;
            height: 600px;
            margin: 30px auto;
            background-color: #f0f0f0;
            border: 2px solid #000;
            border-radius: 10px;
            overflow: hidden;
        }

        /* Pegs */
        .peg {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #333;
            border-radius: 50%;
        }

        /* Ball */
        .ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #ff6347;
            border-radius: 50%;
        }

        /* Bins at the bottom */
        .bin {
            width: 40px;
            height: 30px;
            background-color: #4CAF50;
            border-radius: 10px;
            position: absolute;
            bottom: 0;
        }

        /* Row Selection Button */
        #row-btn {
            margin: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        /* Footer */
        footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
    </style>
</head>
<body>

    <!-- Header Section -->
    <header>
        <h1>Plinko Game</h1>
    </header>

    <!-- Row Selection Button -->
    <button id="row-btn">Select Number of Rows (5 to 16)</button>

    <!-- Game Board Section -->
    <div id="game-board"></div>

    <!-- Footer Section -->
    <footer>
        <p>&copy; 2025 ItzNixer'z Casino - All rights reserved</p>
    </footer>

    <script>
        const board = document.getElementById("game-board");
        const rowBtn = document.getElementById("row-btn");
        let rows = 5; // Default rows
        let bins = []; // Array to hold bins

        // Function to generate the pegs
        function createPegs() {
            board.innerHTML = ''; // Clear the board

            // Variables for the position of pegs
            const pegDistance = 40;
            const width = board.offsetWidth;
            const height = board.offsetHeight;

            // Pegs grid generation logic (narrow at the top and wide at the bottom)
            for (let y = 0; y < rows; y++) {
                let pegOffsetX = (width - pegDistance * (y + 1)) / 2; // make top narrow
                for (let x = 0; x <= y; x++) {
                    const peg = document.createElement('div');
                    peg.classList.add('peg');
                    peg.style.top = `${y * pegDistance}px`;
                    peg.style.left = `${pegOffsetX + (x * pegDistance)}px`;
                    board.appendChild(peg);
                }
            }
            createBins(); // Create bins after pegs
        }

        // Function to create bins based on rows
        function createBins() {
            bins = [];
            const width = board.offsetWidth;
            const binWidth = 40;
            const binHeight = 30;

            for (let i = 0; i < rows + 1; i++) {
                const bin = document.createElement('div');
                bin.classList.add('bin');
                bin.style.left = `${(width - (binWidth * (rows + 1))) / 2 + (i * binWidth)}px`;
                bin.style.width = `${binWidth}px`;
                bin.style.height = `${binHeight}px`;
                bins.push(bin);
                board.appendChild(bin);
            }
        }

        // Function to drop a ball
        function dropBall() {
            const ball = document.createElement('div');
            ball.classList.add('ball');
            ball.style.left = `${(board.offsetWidth - 20) / 2}px`;  // Ball starts at the center
            ball.style.top = '0px';

            board.appendChild(ball);

            let positionX = (board.offsetWidth - 20) / 2;  // Initial X
            let positionY = 0;  // Initial Y (top)
            let gravity = 2;  // Ball falling speed

            function moveBall() {
                if (positionY < board.offsetHeight - 30) {
                    positionY += gravity;
                    ball.style.top = `${positionY}px`;

                    // Add random left or right movement to simulate bouncing off pegs
                    if (Math.random() < 0.1) {
                        positionX += Math.random() < 0.5 ? -20 : 20;
                    }

                    ball.style.left = `${positionX}px`;

                    requestAnimationFrame(moveBall);
                } else {
                    // Ball reaches the bottom
                    const binIndex = Math.floor((positionX - 10) / 40);
                    if (binIndex >= 0 && binIndex < bins.length) {
                        bins[binIndex].style.backgroundColor = "#FF5722"; // Highlight the bin where the ball landed
                    }

                    // Remove the ball after landing
                    setTimeout(() => {
                        ball.remove();
                    }, 500);
                }
            }

            moveBall();
        }

        // Function to change the number of rows
        rowBtn.addEventListener("click", () => {
            rows = prompt("Enter the number of rows (5 to 16)", rows);
            rows = Math.max(5, Math.min(16, rows)); // Ensure the value is between 5 and 16
            createPegs();  // Recreate pegs and bins with the new row count
        });

        // Generate the initial game board
        createPegs();

        // Simulate ball drop when clicked anywhere on the board
        board.addEventListener("click", dropBall);
    </script>

</body>
</html>
